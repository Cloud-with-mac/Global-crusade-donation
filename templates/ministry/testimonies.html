{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testimonies - Global Crusade Ministry</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>:root{--navy-dark:#0f1419;--navy-base:#1a2332;--gold-base:#d4a574;--gold-light:#e8c9a0;--gold-dark:#b88a5f;--cream:#faf8f5;--warm-white:#ffffff;--gray-50:#f9f7f4;--gray-200:#e2ddd5;--gray-500:#7a7269;--gray-600:#5a5349;--gray-700:#3d3930;--font-display:'Cormorant Garamond',serif;--font-body:'DM Sans',sans-serif;--space-sm:1rem;--space-md:1.5rem;--space-lg:2rem;--space-xl:3rem;--space-2xl:4rem;--space-3xl:6rem;--shadow-sm:0 2px 8px rgba(0,0,0,0.08);--shadow-md:0 4px 16px rgba(0,0,0,0.1);--radius-md:8px;--radius-lg:12px;--radius-xl:16px;--transition-base:250ms cubic-bezier(0.4,0,0.2,1)}*{margin:0;padding:0;box-sizing:border-box}body{font-family:var(--font-body);font-size:17px;line-height:1.7;color:var(--gray-700);background:var(--cream)}h1,h2,h3{font-family:var(--font-display);font-weight:600;line-height:1.2;color:var(--navy-dark)}h1{font-size:clamp(2.5rem,6vw,4.5rem)}h2{font-size:clamp(2rem,4.5vw,3.5rem)}h3{font-size:clamp(1.5rem,3vw,2rem)}p{margin-bottom:var(--space-md);color:var(--gray-600)}.container{max-width:1280px;margin:0 auto;padding:0 var(--space-lg)}.section{padding:var(--space-3xl) 0}.navbar{position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(250,248,245,0.98);backdrop-filter:blur(12px);border-bottom:1px solid rgba(0,0,0,0.06)}.nav-container{max-width:1440px;margin:0 auto;padding:0 var(--space-lg);display:flex;align-items:center;justify-content:space-between;height:5rem}.brand{display:flex;align-items:center;gap:var(--space-sm);text-decoration:none}.brand-icon{width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--gold-base),var(--gold-light));border-radius:var(--radius-md);font-size:1.5rem}.brand-name{font-family:var(--font-display);font-size:1.375rem;font-weight:600;color:var(--navy-dark)}.brand-tagline{font-size:0.75rem;color:var(--gray-500);text-transform:uppercase}.nav-menu{display:flex;align-items:center;gap:var(--space-xl);list-style:none}.nav-link{color:var(--gray-700);text-decoration:none;font-weight:500;font-size:0.9375rem}.nav-link.active{color:var(--navy-dark)}.nav-cta{background:linear-gradient(135deg,var(--gold-base),var(--gold-light));color:var(--warm-white);padding:0.625rem 1.5rem;border-radius:var(--radius-md);font-weight:600;text-decoration:none}.mobile-toggle{display:none;flex-direction:column;gap:5px;background:none;border:none;cursor:pointer;padding:0.5rem;z-index:1001}.mobile-toggle span{width:24px;height:2px;background:var(--navy-base);border-radius:2px;transition:all var(--transition-base)}.mobile-toggle.active span:nth-child(1){transform:rotate(45deg) translate(6px,6px)}.mobile-toggle.active span:nth-child(2){opacity:0}.mobile-toggle.active span:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}.page-header{padding:8rem 0 4rem;text-align:center;background:linear-gradient(135deg,var(--navy-base),var(--navy-dark));color:var(--warm-white)}.page-header h1{color:var(--warm-white)}.testimonies-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:var(--space-xl)}.testimony-card{padding:var(--space-xl);background:var(--warm-white);border:1px solid var(--gray-200);border-radius:var(--radius-lg);transition:all var(--transition-base);position:relative}.testimony-card::before{content:'"';position:absolute;top:-1rem;left:var(--space-lg);font-family:var(--font-display);font-size:8rem;line-height:1;color:var(--gold-base);opacity:0.1}.testimony-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-md);border-color:var(--gold-base)}.testimony-text{position:relative;z-index:1;font-style:italic;font-size:1.0625rem;line-height:1.8;margin-bottom:var(--space-lg)}.testimony-author{display:flex;align-items:center;gap:var(--space-md)}.author-avatar{width:3rem;height:3rem;border-radius:50%;background:linear-gradient(135deg,var(--gold-base),var(--gold-light));display:flex;align-items:center;justify-content:center;font-family:var(--font-display);font-size:1.25rem;font-weight:600;color:var(--warm-white)}.author-name{font-weight:600;color:var(--navy-dark)}.author-location{font-size:0.875rem;color:var(--gray-500)}.section-label{display:inline-block;font-size:0.875rem;font-weight:600;text-transform:uppercase;letter-spacing:0.1em;color:var(--gold-base);margin-bottom:var(--space-md)}.section-header{max-width:720px;margin:0 auto var(--space-3xl);text-align:center}.testimony-image-card{border-radius:var(--radius-lg);overflow:hidden;background:var(--warm-white);border:1px solid var(--gray-200);transition:all var(--transition-base)}.testimony-image-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-md);border-color:var(--gold-base)}.footer{background:var(--navy-dark);color:rgba(255,255,255,0.7);padding:var(--space-3xl) 0 var(--space-xl)}.footer-grid{display:grid;grid-template-columns:2fr repeat(3,1fr);gap:var(--space-3xl);margin-bottom:var(--space-3xl)}.footer-logo{display:flex;align-items:center;gap:var(--space-sm);margin-bottom:var(--space-md)}.footer-logo-icon{width:2.5rem;height:2.5rem;background:linear-gradient(135deg,var(--gold-base),var(--gold-light));border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:1.5rem}.footer-logo-text{font-family:var(--font-display);font-size:1.5rem;font-weight:600;color:var(--warm-white)}.footer-column h4{font-size:0.9375rem;font-weight:600;text-transform:uppercase;color:var(--warm-white);margin-bottom:var(--space-md)}.footer-links{list-style:none;display:flex;flex-direction:column;gap:var(--space-sm)}.footer-link{color:rgba(255,255,255,0.6);text-decoration:none}.footer-bottom{padding-top:var(--space-xl);border-top:1px solid rgba(255,255,255,0.1);text-align:center;color:rgba(255,255,255,0.5)}@media(max-width:1024px){.footer-grid{grid-template-columns:repeat(2,1fr)}}@media(max-width:768px){.nav-menu{position:fixed;top:5rem;left:0;right:0;bottom:0;background:var(--warm-white);flex-direction:column;padding:var(--space-xl) var(--space-lg);gap:var(--space-lg);opacity:0;visibility:hidden;transform:translateX(100%);transition:all var(--transition-base)}.nav-menu.active{opacity:1;visibility:visible;transform:translateX(0)}.mobile-toggle{display:flex}.footer-grid,.testimonies-grid{grid-template-columns:1fr}}</style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <a href="{% url 'ministry_home' %}" class="brand">
                <div class="brand-icon">‚úù</div>
                <div style="display:flex;flex-direction:column">
                    <span class="brand-name">Global Crusade</span>
                    <span class="brand-tagline">Ministry International</span>
                </div>
            </a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="{% url 'ministry_home' %}" class="nav-link">Home</a></li>
                <li><a href="{% url 'ministry_about' %}" class="nav-link">About</a></li>
                <li><a href="{% url 'ministry_crusades' %}" class="nav-link">Crusades</a></li>
                <li><a href="{% url 'ministry_testimonies' %}" class="nav-link active">Testimonies</a></li>
                <li><a href="{% url 'ministry_contact' %}" class="nav-link">Contact</a></li>
                <li><a href="{% url 'donation_page' %}" class="nav-cta">Donate</a></li>
            </ul>
            <button class="mobile-toggle" id="mobileToggle">
                <span></span><span></span><span></span>
            </button>
        </div>
    </nav>

    <div class="page-header">
        <div class="container">
            <h1>Testimonies of Faith</h1>
            <p style="font-size:1.125rem;color:rgba(255,255,255,0.9)">Real Stories of God's Transforming Power</p>
        </div>
    </div>

    <!-- ‚≠ê UPLOADED TESTIMONY IMAGES -->
    {% if testimony_images %}
    <section class="section" style="background:var(--gray-50)">
        <div class="container">
            <div class="section-header">
                <div class="section-label">Visual Testimonies</div>
                <h2>Captured Moments of Miracles</h2>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-lg);">
                {% for image in testimony_images %}
                <div class="testimony-image-card">
                    <img src="{{ image.image.url }}" 
                         alt="{{ image.title }}"
                         style="width: 100%; height: 300px; object-fit: cover;">
                    <div style="padding: var(--space-md);">
                        <h4>{{ image.title }}</h4>
                        {% if image.description %}
                        <p style="font-size: 0.9375rem; color: var(--gray-600); margin: 0;">{{ image.description }}</p>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>
    {% endif %}

    <!-- ‚≠ê DATABASE TESTIMONIES -->
    <section class="section">
        <div class="container">
            <div class="section-header">
                <div class="section-label">Healing Testimonies</div>
                <h2>Lives Transformed by God's Power</h2>
                <p style="font-size:1.125rem;line-height:1.8;color:var(--gray-600)">Real stories of healing, deliverance, and miraculous breakthroughs from our crusades around the world.</p>
            </div>
            <div class="testimonies-grid">
                {% if testimonies %}
                    {% for testimony in testimonies %}
                    <div class="testimony-card">
                        <div class="testimony-text">{{ testimony.testimony_text }}</div>
                        <div class="testimony-author">
                            <div class="author-avatar">{{ testimony.get_initial }}</div>
                            <div>
                                <div class="author-name">{{ testimony.name }}</div>
                                <div class="author-location">{{ testimony.location }}</div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <!-- Fallback to default testimonies if none in database -->
                    <div class="testimony-card">
                        <div class="testimony-text">I came to the crusade with stage 4 cancer. The doctors had given up hope. But God completely healed me! My latest tests show I am completely cancer-free. All glory to Jesus!</div>
                        <div class="testimony-author">
                            <div class="author-avatar">M</div>
                            <div>
                                <div class="author-name">Mary Johnson</div>
                                <div class="author-location">Lagos, Nigeria</div>
                            </div>
                        </div>
                    </div>
                    <div class="testimony-card">
                        <div class="testimony-text">After 10 years of barrenness and countless medical procedures, I received a miracle at the crusade. Today, I am a proud mother of beautiful twins. God is faithful!</div>
                        <div class="testimony-author">
                            <div class="author-avatar">S</div>
                            <div>
                                <div class="author-name">Sarah Williams</div>
                                <div class="author-location">Accra, Ghana</div>
                            </div>
                        </div>
                    </div>
                    <div class="testimony-card">
                        <div class="testimony-text">God delivered me from 20 years of drug addiction in a single night. The chains are broken! I am now living a transformed life and serving the Lord with all my heart.</div>
                        <div class="testimony-author">
                            <div class="author-avatar">J</div>
                            <div>
                                <div class="author-name">John Okafor</div>
                                <div class="author-location">Port Harcourt, Nigeria</div>
                            </div>
                        </div>
                    </div>
                    <div class="testimony-card">
                        <div class="testimony-text">I was paralyzed for 10 years after an accident. Doctors said I would never walk again. But at the crusade, God's power surged through me. I stood up and walked for the first time in a decade!</div>
                        <div class="testimony-author">
                            <div class="author-avatar">P</div>
                            <div>
                                <div class="author-name">Peter Kamau</div>
                                <div class="author-location">Nairobi, Kenya</div>
                            </div>
                        </div>
                    </div>
                    <div class="testimony-card">
                        <div class="testimony-text">My business collapsed and I was millions in debt. At the crusade, I planted a seed in faith. Within 6 months, God opened doors I never imagined. Today, all debts are paid and my business is thriving!</div>
                        <div class="testimony-author">
                            <div class="author-avatar">C</div>
                            <div>
                                <div class="author-name">Chidi Eze</div>
                                <div class="author-location">Lagos, Nigeria</div>
                            </div>
                        </div>
                    </div>
                    <div class="testimony-card">
                        <div class="testimony-text">I battled severe depression for 7 years. At the crusade, during worship, God's peace flooded my soul. The darkness lifted, and joy returned to my heart. I haven't had a depressive episode since!</div>
                        <div class="testimony-author">
                            <div class="author-avatar">T</div>
                            <div>
                                <div class="author-name">Thabo Ndlovu</div>
                                <div class="author-location">Johannesburg, South Africa</div>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <div class="footer-logo">
                        <div class="footer-logo-icon">‚úù</div>
                        <div class="footer-logo-text">Global Crusade</div>
                    </div>
                    <p style="color:rgba(255,255,255,0.6)">Bringing hope to the nations through powerful crusades.</p>
                </div>
                <div class="footer-column">
                    <h4>Ministry</h4>
                    <ul class="footer-links">
                        <li><a href="{% url 'ministry_about' %}" class="footer-link">About Us</a></li>
                        <li><a href="{% url 'ministry_crusades' %}" class="footer-link">Crusades</a></li>
                        <li><a href="{% url 'ministry_testimonies' %}" class="footer-link">Testimonies</a></li>
                        <li><a href="{% url 'ministry_contact' %}" class="footer-link">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Resources</h4>
                    <ul class="footer-links">
                        <li><a href="{% url 'donation_page' %}" class="footer-link">Donate</a></li>
                        <li><a href="#" class="footer-link">Prayer Requests</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contact</h4>
                    <ul class="footer-links">
                        <li class="footer-link">üìß  info@globalcrusadeoutreach.org</li>
                        <li class="footer-link">üì± +447411583033</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 Global Crusade Ministry. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const toggle = document.getElementById('mobileToggle');
        const menu = document.getElementById('navMenu');
        
        if (toggle && menu) {
            toggle.addEventListener('click', (e) => {
                e.stopPropagation();
                toggle.classList.toggle('active');
                menu.classList.toggle('active');
                document.body.style.overflow = menu.classList.contains('active') ? 'hidden' : '';
            });
            
            menu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    toggle.classList.remove('active');
                    menu.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });
            
            document.addEventListener('click', (e) => {
                if (menu.classList.contains('active') && !menu.contains(e.target) && !toggle.contains(e.target)) {
                    toggle.classList.remove('active');
                    menu.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        }
        
        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar');
            if (navbar) {
                navbar.classList.toggle('scrolled', window.pageYOffset > 100);
            }
        });
    </script>
</body>
</html>